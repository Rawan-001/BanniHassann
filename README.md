\Firebase Storage CORS

\ูุดุงูู CORS ูู Firebase Storage ููุดุฑูุน BanniHassan.

\ ุงููุชุทูุจุงุช

- [Google Cloud SDK](https://cloud.google.com/sdk/docs/install)
- [Firebase CLI](https://firebase.google.com/docs/cli) (ุงุฎุชูุงุฑู)
- PowerShell (ูุฏูุฌ ูู Windows)

ุงูุชุดุบูู ุงูุณุฑูุน

### ุงูุทุฑููุฉ ุงูุฃููู: ุงูุชุดุบูู ุงูุชููุงุฆู
```cmd
# ููุฑ ูุฒุฏูุฌ ุนูู:
run-fix.cmd
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: PowerShell ูุจุงุดุฑุฉ
```powershell
# ุชุดุบูู ูุงูู (ููุตู ุจู)
.\fix-cors.ps1

# ุฃู ูููุณุงุนุฏุฉ
.\fix-cors.ps1 -Help
```

##  ุฎูุงุฑุงุช ุงูุชุดุบูู ุงููุชูุฏูุฉ

### 1. ุงูุชุดุบูู ุงููุงูู (ุงูุชุฑุงุถู)
```powershell
.\fix-cors.ps1
```
- ูุญุต ุงููุชุทูุจุงุช
- ุชุณุฌูู ุงูุฏุฎูู ุฅูู Google Cloud
- ุชุทุจูู ุฅุนุฏุงุฏุงุช CORS
- ูุดุฑ ููุงุนุฏ Storage
- ุงูุชุญูู ุงูููุงุฆู

### 2. ูุญุต ุงูุญุงูุฉ ููุท
```powershell
.\fix-cors.ps1 -CheckStatus
```
- ุนุฑุถ ูุนูููุงุช ุงููุดุฑูุน
- ูุญุต ุงูุฃุฏูุงุช ุงููุทููุจุฉ
- ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS ุงูุญุงููุฉ
- ุงุฎุชุจุงุฑ ุฑูุน ููู

### 3. ูุดุฑ ููุงุนุฏ Storage ููุท
```powershell
.\fix-cors.ps1 -DeployRules
```
- ูุดุฑ ููุงุนุฏ `storage.rules` ุงููุญุฏุซุฉ
- ูููุฏ ุจุนุฏ ุชุนุฏูู ุงูููุงุนุฏ

### 4. ุงุฎุชุจุงุฑ ุงูุชุญููู ููุท
```powershell
.\fix-cors.ps1 -TestUpload
```
- ุฅูุดุงุก ููู ุงุฎุชุจุงุฑ
- ุฑูุนู ุฅูู Storage
- ุงูุชุญูู ูู ูุฌุงุญ ุงูุนูููุฉ
- ุญุฐู ุงูููู

##  ูููุงุช ุงูุฅุนุฏุงุฏ

### `cors-fix.json`
ุฅุนุฏุงุฏุงุช CORS ุงููุญุฏุซุฉ:
```json
[
  {
    "origin": ["*"],
    "method": ["GET", "POST", "PUT", "DELETE", "HEAD", "OPTIONS"],
    "maxAgeSeconds": 3600,
    "responseHeader": [
      "Content-Type",
      "Authorization", 
      "Range",
      "Accept",
      "Origin",
      "X-Requested-With",
      "Access-Control-Allow-Origin",
      "Access-Control-Allow-Methods",
      "Access-Control-Allow-Headers"
    ]
  }
]
```

### `storage.rules`
ููุงุนุฏ ุฃูุงู ูุญุณูุฉ ูุน:
- ููุงุนุฏ ุนุงูุฉ ูููููุงุช
- ููุงุนุฏ ุฎุงุตุฉ ููููุงูุน ุงูุณูุงุญูุฉ
- ูููุฏ ุญุฌู ูุชูุณูู ููุตูุฑ (10MB)
- ูููุฏ ุญุฌู ูุชูุณูู ููููุฏูููุงุช (50MB)
- ุฅุนุฏุงุฏุงุช ุฃูุงู ููููุงุช ุงูุงุฎุชุจุงุฑ

##  ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "Google Cloud SDK ุบูุฑ ูุซุจุช"
```powershell
# ุชุซุจูุช Google Cloud SDK
# ูู: https://cloud.google.com/sdk/docs/install
```

### ุฎุทุฃ: "ูุดู ุชุณุฌูู ุงูุฏุฎูู"
```powershell
# ุชุณุฌูู ุฏุฎูู ูุฏูู
gcloud auth login
```

### ุฎุทุฃ: "ูุดู ุชุทุจูู ุฅุนุฏุงุฏุงุช CORS"
```powershell
# ุงูุชุญูู ูู gsutil
gsutil version

# ุฅุนุงุฏุฉ ุชููุฆุฉ gcloud
gcloud init
```

### ุฎุทุฃ: "ูุดู ูุดุฑ ููุงุนุฏ Storage"
```powershell
# ุชุณุฌูู ุงูุฏุฎูู ุฅูู Firebase
firebase login

# ุฃู ุงุณุชุฎุฏุงู Google Cloud ููุท
.\fix-cors.ps1 -DeployRules
```

## ๐ ูุฑุงูุจุฉ ุงูุญุงูุฉ

### ูุญุต ุฅุนุฏุงุฏุงุช CORS ุงูุญุงููุฉ
```powershell
gsutil cors get gs://bannihassan-e4c61.appspot.com
```

### ูุญุต ููุงุนุฏ Storage

### ุงุฎุชุจุงุฑ ุณุฑูุน
```powershell
.\fix-cors.ps1 -TestUpload
```

##  ูุนูููุงุช ุงููุดุฑูุน

- **App URL:** https://bannihassan-e4c61.web.app

##  ุงูุฎุทูุงุช ุจุนุฏ ุงูุชุดุบูู

1. **ุงูุชุธุงุฑ (5-10 ุฏูุงุฆู)** - ุชุทุจูู ุงูุชุบููุฑุงุช ูุญุชุงุฌ ููุช
2. **ูุณุญ Cache** - `Ctrl+Shift+Delete` ูู ุงููุชุตูุญ
3. **ุงุฎุชุจุงุฑ ุงูุชุทุจูู** - ุฌุฑุจ ุฑูุน ููู ูู ุงููููุน
4. **ูุญุต ุฅุถุงูู** - `.\fix-cors.ps1 -CheckStatus`

##  ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. ุดุบู: `.\fix-cors.ps1 -CheckStatus`
2. ุชุญูู ูู [ุฏููู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก](BanniHassan/FIREBASE_STORAGE_TROUBLESHOOTING.md)
3. ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช Firebase Console
4. ุฌุฑุจ ูุชุตูุญ ุขุฎุฑ

---

##  ุขุฎุฑ ุชุญุฏูุซ

ุชู ุชุญุฏูุซ ุงูุฃุฏูุงุช ูุชุดูู:
-  ูุญุต ุชููุงุฆู ูููุชุทูุจุงุช
-  ุฅุฏุงุฑุฉ ุฐููุฉ ูุชุณุฌูู ุงูุฏุฎูู
-  ูุดุฑ ููุงุนุฏ Storage ุงููุญุณูุฉ
-  ุงุฎุชุจุงุฑ ุดุงูู ููุชุญููู
- ุชูุงุฑูุฑ ููุตูุฉ ุนู ุงูุญุงูุฉ
-  ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ 
